{"ast":null,"code":"import { GoogleLoginProvider } from '@abacritt/angularx-social-login';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@abacritt/angularx-social-login\";\nclass LoginComponent {\n  constructor(authService) {\n    this.authService = authService;\n    //  async ngOnInit(){\n    //   const auth = new GoogleAuth();\n    //   const client = await auth.getClient();\n    // }\n    this.externalLogin = () => {\n      this.showError = false;\n      this.authService.signInWithGoogle();\n    };\n  }\n  ngOnInit() {\n    this.userSubscription = this.authService.authState.subscribe(user => {\n      this.user = user;\n    });\n  }\n  signInWithGoogle() {\n    this.authService.signIn(GoogleLoginProvider.PROVIDER_ID).catch(error => {\n      console.error('Error signing in:', error);\n    });\n  }\n  signOut() {\n    this.authService.signOut().catch(error => {\n      console.error('Error signing out:', error);\n    });\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.SocialAuthService));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 13,\n  vars: 0,\n  consts: [[1, \"card\"], [1, \"card-body\"], [1, \"card-title\"], [2, \"padding\", \"20px\"], [\"type\", \"button\", 1, \"btn\", \"btn-info\", 3, \"click\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n      i0.ɵɵtext(3, \"Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(4, \" ... \");\n      i0.ɵɵelement(5, \"hr\");\n      i0.ɵɵelementStart(6, \"div\")(7, \"h2\");\n      i0.ɵɵtext(8, \"External Providers\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 3)(10, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_10_listener() {\n        return ctx.externalLogin();\n      });\n      i0.ɵɵtext(11, \"Google\");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵtext(12, \"\\n...\\n\");\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { LoginComponent };","map":{"version":3,"names":["GoogleLoginProvider","LoginComponent","constructor","authService","externalLogin","showError","signInWithGoogle","ngOnInit","userSubscription","authState","subscribe","user","signIn","PROVIDER_ID","catch","error","console","signOut","i0","ɵɵdirectiveInject","i1","SocialAuthService","selectors","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","LoginComponent_Template_button_click_10_listener"],"sources":["D:\\graduation project\\Graduation_Project-Dubbizel--main\\Graduation_Project-Dubbizel--main\\Dubbizel_Angular\\src\\app\\Login\\login\\login.component.ts","D:\\graduation project\\Graduation_Project-Dubbizel--main\\Graduation_Project-Dubbizel--main\\Dubbizel_Angular\\src\\app\\Login\\login\\login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { AuthService } from 'src/app/Service/auth.service';\nimport { SocialAuthService, GoogleLoginProvider, SocialUser } from '@abacritt/angularx-social-login';\nimport { Subscription } from 'rxjs';\n\nimport { GoogleAuth } from 'google-auth-library';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent {\n  showError:any\n  user: SocialUser;\n  private userSubscription: Subscription | undefined;\n\n  constructor(private authService: SocialAuthService) {}\n\n  ngOnInit(): void {\n    this.userSubscription = this.authService.authState.subscribe(user => {\n      this.user = user;\n    });\n  }\n\n  signInWithGoogle(): void {\n    this.authService.signIn(GoogleLoginProvider.PROVIDER_ID).catch(error => {\n      console.error('Error signing in:', error);\n    });\n  }\n\n  signOut(): void {\n    this.authService.signOut().catch(error => {\n      console.error('Error signing out:', error);\n    });\n  }\n//  async ngOnInit(){\n//   const auth = new GoogleAuth();\n//   const client = await auth.getClient();\n\n// }\n  externalLogin = () => {\n    this.showError = false;\n    this.authService.signInWithGoogle();\n  }\n}\n","<div class=\"card\">\n    <div class=\"card-body\">\n        <h1 class=\"card-title\">Login</h1>\n        ...\n        <!-- <form [formGroup]=\"loginForm\" autocomplete=\"off\" novalidate (ngSubmit)=\"loginUser(loginForm.value)\">\n            ...\n        </form> -->\n        <hr>\n        <div>\n            <h2>External Providers</h2>\n            <div style=\"padding: 20px;\">\n                <button class=\"btn btn-info\" type=\"button\" (click)=\"externalLogin()\">Google</button>\n            </div>\n        </div>\n    </div>\n</div>\n\n<script src=\"https://accounts.google.com/gsi/client?hl=fr\" async defer></script>\n...\n<script>\ngoogle.accounts.id.renderButton(\n  document.getElementById(\"buttonDiv\"),                \n  { locale: \"fr\" }\n);\n</script>"],"mappings":"AAEA,SAA4BA,mBAAmB,QAAoB,iCAAiC;;;AAKpG,MAKaC,cAAc;EAKzBC,YAAoBC,WAA8B;IAA9B,KAAAA,WAAW,GAAXA,WAAW;IAmBjC;IACA;IACA;IAEA;IACE,KAAAC,aAAa,GAAG,MAAK;MACnB,IAAI,CAACC,SAAS,GAAG,KAAK;MACtB,IAAI,CAACF,WAAW,CAACG,gBAAgB,EAAE;IACrC,CAAC;EA3BoD;EAErDC,QAAQA,CAAA;IACN,IAAI,CAACC,gBAAgB,GAAG,IAAI,CAACL,WAAW,CAACM,SAAS,CAACC,SAAS,CAACC,IAAI,IAAG;MAClE,IAAI,CAACA,IAAI,GAAGA,IAAI;IAClB,CAAC,CAAC;EACJ;EAEAL,gBAAgBA,CAAA;IACd,IAAI,CAACH,WAAW,CAACS,MAAM,CAACZ,mBAAmB,CAACa,WAAW,CAAC,CAACC,KAAK,CAACC,KAAK,IAAG;MACrEC,OAAO,CAACD,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;IAC3C,CAAC,CAAC;EACJ;EAEAE,OAAOA,CAAA;IACL,IAAI,CAACd,WAAW,CAACc,OAAO,EAAE,CAACH,KAAK,CAACC,KAAK,IAAG;MACvCC,OAAO,CAACD,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;IAC5C,CAAC,CAAC;EACJ;;AAvBWd,cAAc,C;mBAAdA,cAAc,EAAAiB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,iBAAA;AAAA;AAAdpB,cAAc,C;QAAdA,cAAc;EAAAqB,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,wBAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCZ3BV,EAAA,CAAAY,cAAA,aAAkB;MAEaZ,EAAA,CAAAa,MAAA,YAAK;MAAAb,EAAA,CAAAc,YAAA,EAAK;MACjCd,EAAA,CAAAa,MAAA,YACA;MAGAb,EAAA,CAAAe,SAAA,SAAI;MACJf,EAAA,CAAAY,cAAA,UAAK;MACGZ,EAAA,CAAAa,MAAA,yBAAkB;MAAAb,EAAA,CAAAc,YAAA,EAAK;MAC3Bd,EAAA,CAAAY,cAAA,aAA4B;MACmBZ,EAAA,CAAAgB,UAAA,mBAAAC,iDAAA;QAAA,OAASN,GAAA,CAAAzB,aAAA,EAAe;MAAA,EAAC;MAACc,EAAA,CAAAa,MAAA,cAAM;MAAAb,EAAA,CAAAc,YAAA,EAAS;MAOpGd,EAAA,CAAAa,MAAA,eACA;;;;;SDPa9B,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}